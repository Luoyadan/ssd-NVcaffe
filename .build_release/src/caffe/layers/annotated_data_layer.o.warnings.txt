src/caffe/layers/annotated_data_layer.cpp: In member function ‘virtual void caffe::AnnotatedDataLayer<Ftype, Btype>::DataLayerSetUp(const std::vector<caffe::Blob*>&, const std::vector<caffe::Blob*>&)’:
src/caffe/layers/annotated_data_layer.cpp:156:37: error: ‘const class caffe::LayerParameter’ has no member named ‘batch_sampler’
     batch_samplers_.push_back(param.batch_sampler(i));
                                     ^
src/caffe/layers/annotated_data_layer.cpp:232:33: error: ‘class boost::shared_ptr<caffe::AnnotatedDatum>’ has no member named ‘has_type’
     has_anno_type_ = anno_datum.has_type() || anno_data_param.has_anno_type();
                                 ^
src/caffe/layers/annotated_data_layer.cpp:235:31: error: ‘class boost::shared_ptr<caffe::AnnotatedDatum>’ has no member named ‘type’
       anno_type_ = anno_datum.type();
                               ^
src/caffe/layers/annotated_data_layer.cpp:252:40: error: ‘class boost::shared_ptr<caffe::AnnotatedDatum>’ has no member named ‘annotation_group_size’
         for (int g = 0; g < anno_datum.annotation_group_size(); ++g) {
                                        ^
src/caffe/layers/annotated_data_layer.cpp:253:36: error: ‘class boost::shared_ptr<caffe::AnnotatedDatum>’ has no member named ‘annotation_group’
           num_bboxes += anno_datum.annotation_group(g).annotation_size();
                                    ^
src/caffe/layers/annotated_data_layer.cpp: In member function ‘void caffe::AnnotatedDataLayer<Ftype, Btype>::load_batch(caffe::Batch<Ftype>*, int, size_t)’:
src/caffe/layers/annotated_data_layer.cpp:306:37: error: no matching function for call to ‘caffe::Blob::Reshape(std::vector<int>&) const’
   transformed_blob.Reshape(top_shape);
                                     ^
In file included from ./include/caffe/data_transformer.hpp:8:0,
                 from src/caffe/layers/annotated_data_layer.cpp:10:
./include/caffe/blob.hpp:61:8: note: candidate: void caffe::Blob::Reshape(int, int, int, int)
   void Reshape(const int num, const int channels, const int height, const int width);
        ^
./include/caffe/blob.hpp:61:8: note:   candidate expects 4 arguments, 1 provided
./include/caffe/blob.hpp:62:8: note: candidate: void caffe::Blob::Reshape(int)
   void Reshape(const int num);
        ^
./include/caffe/blob.hpp:62:8: note:   no known conversion for argument 1 from ‘std::vector<int>’ to ‘int’
./include/caffe/blob.hpp:78:8: note: candidate: void caffe::Blob::Reshape(const std::vector<int>&) <near match>
   void Reshape(const vector<int>& shape);
        ^
./include/caffe/blob.hpp:78:8: note:   passing ‘const caffe::Blob*’ as ‘this’ argument discards qualifiers
./include/caffe/blob.hpp:79:8: note: candidate: void caffe::Blob::Reshape(const caffe::BlobShape&)
   void Reshape(const BlobShape& shape);
        ^
./include/caffe/blob.hpp:79:8: note:   no known conversion for argument 1 from ‘std::vector<int>’ to ‘const caffe::BlobShape&’
src/caffe/layers/annotated_data_layer.cpp:309:70: error: ‘datum’ was not declared in this scope
     top_shape = this->data_transformers_[thread_id]->InferBlobShape(*datum, false);
                                                                      ^
src/caffe/layers/annotated_data_layer.cpp:314:28: error: ‘datum’ was not declared in this scope
   const bool copy_to_cpu = datum->encoded() || !use_gpu_transform;
                            ^
src/caffe/layers/annotated_data_layer.cpp:342:38: error: ‘class caffe::AnnotatedDatum’ has no member named ‘record_id’
       current_batch_id = anno_datum->record_id() / batch_size;
                                      ^
src/caffe/layers/annotated_data_layer.cpp:349:68: error: ‘class boost::shared_ptr<caffe::AnnotatedDatum>’ has no member named ‘datum’
       this->data_transformers_[thread_id]->DistortImage(anno_datum.datum(),
                                                                    ^
src/caffe/layers/annotated_data_layer.cpp:360:58: error: ‘anno_atum’ was not declared in this scope
         this->data_transformers_[thread_id]->ExpandImage(anno_atum, expand_datum);
                                                          ^
src/caffe/layers/annotated_data_layer.cpp:395:39: error: no matching function for call to ‘caffe::Blob::Reshape(std::vector<int>&) const’
         transformed_blob.Reshape(shape)
                                       ^
In file included from ./include/caffe/data_transformer.hpp:8:0,
                 from src/caffe/layers/annotated_data_layer.cpp:10:
./include/caffe/blob.hpp:61:8: note: candidate: void caffe::Blob::Reshape(int, int, int, int)
   void Reshape(const int num, const int channels, const int height, const int width);
        ^
./include/caffe/blob.hpp:61:8: note:   candidate expects 4 arguments, 1 provided
./include/caffe/blob.hpp:62:8: note: candidate: void caffe::Blob::Reshape(int)
   void Reshape(const int num);
        ^
./include/caffe/blob.hpp:62:8: note:   no known conversion for argument 1 from ‘std::vector<int>’ to ‘int’
./include/caffe/blob.hpp:78:8: note: candidate: void caffe::Blob::Reshape(const std::vector<int>&) <near match>
   void Reshape(const vector<int>& shape);
        ^
./include/caffe/blob.hpp:78:8: note:   passing ‘const caffe::Blob*’ as ‘this’ argument discards qualifiers
./include/caffe/blob.hpp:79:8: note: candidate: void caffe::Blob::Reshape(const caffe::BlobShape&)
   void Reshape(const BlobShape& shape);
        ^
./include/caffe/blob.hpp:79:8: note:   no known conversion for argument 1 from ‘std::vector<int>’ to ‘const caffe::BlobShape&’
src/caffe/layers/annotated_data_layer.cpp:443:7: error: expected ‘;’ before ‘}’ token
       }
       ^
src/caffe/layers/annotated_data_layer.cpp:449:32: error: ‘has_anno_type’ was not declared in this scope
  if (!this->output_labels_ || !has_anno_type){
                                ^
In file included from ./include/caffe/blob.hpp:13:0,
                 from ./include/caffe/data_transformer.hpp:8,
                 from src/caffe/layers/annotated_data_layer.cpp:10:
./include/caffe/common.hpp:80:3: error: expected primary-expression before ‘template’
   template class classname<float, float>; \
   ^
./include/caffe/common.hpp:98:5: note: in expansion of macro ‘INSTANTIATE_CLASS_CPU_FB’
     INSTANTIATE_CLASS_CPU_FB(classname); \
     ^
src/caffe/layers/annotated_data_layer.cpp:482:1: note: in expansion of macro ‘INSTANTIATE_CLASS_FB’
 INSTANTIATE_CLASS_FB(AnnotatedDataLayer);
 ^
./include/caffe/common.hpp:81:3: error: expected primary-expression before ‘template’
   template class classname<float, double>; \
   ^
./include/caffe/common.hpp:98:5: note: in expansion of macro ‘INSTANTIATE_CLASS_CPU_FB’
     INSTANTIATE_CLASS_CPU_FB(classname); \
     ^
src/caffe/layers/annotated_data_layer.cpp:482:1: note: in expansion of macro ‘INSTANTIATE_CLASS_FB’
 INSTANTIATE_CLASS_FB(AnnotatedDataLayer);
 ^
./include/caffe/common.hpp:82:3: error: expected primary-expression before ‘template’
   template class classname<double, float>; \
   ^
./include/caffe/common.hpp:98:5: note: in expansion of macro ‘INSTANTIATE_CLASS_CPU_FB’
     INSTANTIATE_CLASS_CPU_FB(classname); \
     ^
src/caffe/layers/annotated_data_layer.cpp:482:1: note: in expansion of macro ‘INSTANTIATE_CLASS_FB’
 INSTANTIATE_CLASS_FB(AnnotatedDataLayer);
 ^
./include/caffe/common.hpp:83:3: error: expected primary-expression before ‘template’
   template class classname<double, double>
   ^
./include/caffe/common.hpp:98:5: note: in expansion of macro ‘INSTANTIATE_CLASS_CPU_FB’
     INSTANTIATE_CLASS_CPU_FB(classname); \
     ^
src/caffe/layers/annotated_data_layer.cpp:482:1: note: in expansion of macro ‘INSTANTIATE_CLASS_FB’
 INSTANTIATE_CLASS_FB(AnnotatedDataLayer);
 ^
./include/caffe/common.hpp:99:5: error: expected primary-expression before ‘template’
     template class classname<float16, float>; \
     ^
src/caffe/layers/annotated_data_layer.cpp:482:1: note: in expansion of macro ‘INSTANTIATE_CLASS_FB’
 INSTANTIATE_CLASS_FB(AnnotatedDataLayer);
 ^
./include/caffe/common.hpp:100:5: error: expected primary-expression before ‘template’
     template class classname<float, float16>; \
     ^
src/caffe/layers/annotated_data_layer.cpp:482:1: note: in expansion of macro ‘INSTANTIATE_CLASS_FB’
 INSTANTIATE_CLASS_FB(AnnotatedDataLayer);
 ^
./include/caffe/common.hpp:101:5: error: expected primary-expression before ‘template’
     template class classname<float16, double>; \
     ^
src/caffe/layers/annotated_data_layer.cpp:482:1: note: in expansion of macro ‘INSTANTIATE_CLASS_FB’
 INSTANTIATE_CLASS_FB(AnnotatedDataLayer);
 ^
./include/caffe/common.hpp:102:5: error: expected primary-expression before ‘template’
     template class classname<double, float16>; \
     ^
src/caffe/layers/annotated_data_layer.cpp:482:1: note: in expansion of macro ‘INSTANTIATE_CLASS_FB’
 INSTANTIATE_CLASS_FB(AnnotatedDataLayer);
 ^
./include/caffe/common.hpp:103:5: error: expected primary-expression before ‘template’
     template class classname<float16, float16>
     ^
src/caffe/layers/annotated_data_layer.cpp:482:1: note: in expansion of macro ‘INSTANTIATE_CLASS_FB’
 INSTANTIATE_CLASS_FB(AnnotatedDataLayer);
 ^
In file included from ./include/caffe/layer.hpp:11:0,
                 from ./include/caffe/layers/annotated_data_layer.hpp:13,
                 from src/caffe/layers/annotated_data_layer.cpp:11:
./include/caffe/layer_factory.hpp:199:3: error: a function-definition is not allowed here before ‘{’ token
   {                                                                            \
   ^
src/caffe/layers/annotated_data_layer.cpp:483:1: note: in expansion of macro ‘REGISTER_LAYER_CLASS’
 REGISTER_LAYER_CLASS(AnnotatedData);
 ^
./include/caffe/layer_factory.hpp:202:32: error: ‘Creator_AnnotatedDataLayer’ was not declared in this scope
   REGISTER_LAYER_CREATOR(type, Creator_##type##Layer)
                                ^
./include/caffe/layer_factory.hpp:194:50: note: in definition of macro ‘REGISTER_LAYER_CREATOR’
   static LayerRegisterer g_creator_##type(#type, creator);
                                                  ^
src/caffe/layers/annotated_data_layer.cpp:483:1: note: in expansion of macro ‘REGISTER_LAYER_CLASS’
 REGISTER_LAYER_CLASS(AnnotatedData);
 ^
src/caffe/layers/annotated_data_layer.cpp: At global scope:
src/caffe/layers/annotated_data_layer.cpp:485:1: error: expected ‘}’ at end of input
 }  // namespace caffe
 ^
